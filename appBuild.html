<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <title>React Demo</title>
    <meta name="viewport" content="initial-scale=1, maximum-scale=1">
</head>

<body>
    <div id="app"></div>
    <script>
    (function() {
        var dpr, scale;
        var docEl = document.documentElement;
        var metaEl = document.querySelector('meta[name="viewport"]');
        dpr = window.devicePixelRatio || 1;
        scale = 1 / dpr;
        // 设置viewport，进行缩放，达到高清效果
        metaEl.setAttribute('content', 'width=device-width,initial-scale=' + scale + ',maximum-scale=' + scale + ', minimum-scale=' + scale + ',user-scalable=no');
        // 设置data-dpr属性，留作的css hack之用
        docEl.setAttribute('data-dpr', dpr);
        var updateView = function(width) {
            docEl.style.fontSize = width / 10 + 'px';
        }
        updateView(docEl.getBoundingClientRect().width);
        var a = null;
        window.addEventListener("resize", function() {

            clearTimeout(a);
            a = setTimeout(function() {
                updateView(docEl.getBoundingClientRect().width);
            }, 300);
        }, false)
    })();
    </script>

</body>

</html>
